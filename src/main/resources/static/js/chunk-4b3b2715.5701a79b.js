(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b3b2715"],{"1ca3":function(t,i,e){},"283f":function(t,i,e){"use strict";e("1ca3")},5961:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-row",[e("el-col",{attrs:{span:5}},[e("div",{staticStyle:{height:"700px","border-right":"#999999 solid 1px"}},[e("div",{staticStyle:{"margin-top":"10%","font-size":"x-large","font-weight":"bold"},attrs:{align:"center"}},[t._v(" 题目信息 ")]),e("hr",{staticClass:"hr-line"}),e("div",{staticClass:"info"},[t._v(" "+t._s(t.problem_info)+" ")])])]),e("el-col",{attrs:{span:14}},[e("div",{staticClass:"mid"},[e("div",{staticStyle:{"font-size":"xx-large","margin-left":"6%"}},[t._v(" 距离比赛开始还有 ")]),e("div",{staticStyle:{"font-size":"xxx-large",color:"#999999"}},[t._v(" 剩余时间："+t._s(t.hr+":"+t.min+":"+t.sec)+" ")]),e("div",{staticStyle:{"margin-left":"18%"}},[e("el-button",{on:{click:t.dothings}},[e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.isin,expression:"isin===1"}]},[e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.start,expression:"start===1"}]},[t._v(" 开始答题 ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.start,expression:"start===0"}]},[t._v(" 退出房间 ")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.isin,expression:"isin===0"}]},[t._v(" 加入房间 ")])])],1)])]),e("el-col",{attrs:{span:5}},[e("div",{staticClass:"right-part"},[e("div",{staticClass:"right-title",attrs:{align:"center"}},[t._v(" 参与列表 ")]),e("div",{staticClass:"subtitle"},[t._v(" 参与人数："+t._s(t.participants)+" ")]),e("hr",{staticClass:"hr-line"}),t._l(t.participant_list,(function(i){return e("div",{key:i,attrs:{align:"center"}},[t._v(" "+t._s(i.toLowerCase())+" ")])}))],2)])],1)],1)},a=[],o={name:"room",data:function(){return{level:4,userid:localStorage.getItem("userid"),roomid:localStorage.getItem("roomid"),problem_ID:localStorage.getItem("problemid"),problem_info:"here is problem information",time_lefth:22,time_leftm:0,participants:150,participant_list:["1","12","123"],timenow:localStorage.getItem("starttime"),day:0,hr:0,min:0,sec:0,start:0,isin:0}},mounted:function(){this.countdown(),this.getparticipants()},methods:{dothings:function(){this.isin?this.start?(this.startgame(),localStorage.setItem("ispractice","0")):(this.quit(),this.isin=0):(this.joinin(),this.isin=1)},joinin:function(){this.$axios.post("/roomMember/join",{roomId:this.roomid,accountID:this.userid}).then((function(t){alert(t.data.msg)})).catch((function(t){alert("服务器错误roomlist"),console.log(t)})),this.getparticipants()},quit:function(){this.$axios.post("/roomMember/quit",{roomId:this.roomid,accountID:this.userid}).then((function(t){alert(t.data.msg)})).catch((function(t){alert("服务器错误roomlist"),console.log(t)})),this.getparticipants()},startgame:function(){localStorage.setItem("problemid",this.problem_ID),this.$router.push("/question")},getparticipants:function(){var t=this;this.$axios.post("/roomMember/room/message",{roomId:this.roomid}).then((function(i){if(0===i.data.code)for(var e in t.participants=i.data.data.memberCount,t.participant_list=i.data.data.accountsName,t.participant_list)t.participant_list[e]===localStorage.getItem("username")&&(t.isin=1)})).catch((function(t){alert("服务器错误roomlist"),console.log(t)}))},countdown:function(){var t=Date.parse(new Date),i=Date.parse(new Date(this.timenow)),e=i-t;if(e<0)this.day=0,this.hr="00",this.min="00",this.sec="00",this.start=1;else{var s=parseInt(e/1e3/60/60/24),a=parseInt(e/1e3/60/60),o=parseInt(e/1e3/60%60),n=parseInt(e/1e3%60);this.day=s,this.hr=a>9?a:"0"+a,this.min=o>9?o:"0"+o,this.sec=n>9?n:"0"+n}var r=this;setTimeout((function(){r.countdown()}),1e3)}}},n=o,r=(e("283f"),e("2877")),c=Object(r["a"])(n,s,a,!1,null,null,null);i["default"]=c.exports}}]);
//# sourceMappingURL=chunk-4b3b2715.5701a79b.js.map