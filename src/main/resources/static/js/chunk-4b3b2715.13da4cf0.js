(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b3b2715"],{"1ca3":function(t,i,s){},"283f":function(t,i,s){"use strict";s("1ca3")},5961:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("el-row",[s("el-col",{attrs:{span:5}},[s("div",{staticStyle:{height:"700px","border-right":"#999999 solid 1px"}},[s("div",{staticStyle:{"margin-top":"10%","font-size":"x-large","font-weight":"bold"},attrs:{align:"center"}},[t._v(" 题目信息 ")]),s("hr",{staticClass:"hr-line"}),s("div",{staticClass:"info"},[t._v(" "+t._s(t.problem_info)+" ")])])]),s("el-col",{attrs:{span:14}},[s("div",{staticClass:"mid"},[s("div",{staticStyle:{"font-size":"xx-large","margin-left":"6%"}},[t._v(" 距离比赛开始还有 ")]),s("div",{staticStyle:{"font-size":"xxx-large",color:"#999999"}},[t._v(" 剩余时间："+t._s(t.hr+":"+t.min+":"+t.sec)+" ")]),s("div",{staticStyle:{"margin-left":"18%"}},[s("el-button",{on:{click:t.dothings}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.isin,expression:"isin===1"}]},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.start,expression:"start===1"}]},[t._v(" 开始答题 ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.start,expression:"start===0"}]},[t._v(" 退出房间 ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.isin,expression:"isin===0"}]},[t._v(" 加入房间 ")])])],1)])]),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"right-part"},[s("div",{staticClass:"right-title",attrs:{align:"center"}},[t._v(" 参与列表 ")]),s("div",{staticClass:"subtitle"},[t._v(" 参与人数："+t._s(t.participants)+" ")]),s("hr",{staticClass:"hr-line"}),t._l(t.participant_list,(function(i){return s("div",{key:i,attrs:{align:"center"}},[t._v(" "+t._s(i.toLowerCase())+" ")])}))],2)])],1)],1)},a=[],o={name:"room",data(){return{level:4,userid:localStorage.getItem("userid"),roomid:localStorage.getItem("roomid"),problem_ID:localStorage.getItem("problemid"),problem_info:"here is problem information",time_lefth:22,time_leftm:0,participants:150,participant_list:["1","12","123"],timenow:localStorage.getItem("starttime"),day:0,hr:0,min:0,sec:0,start:0,isin:0}},mounted(){this.countdown(),this.getparticipants()},methods:{dothings(){this.isin?this.start?(this.startgame(),localStorage.setItem("ispractice","0")):(this.quit(),this.isin=0):(this.joinin(),this.isin=1)},joinin(){this.$axios.post("/roomMember/join",{roomId:this.roomid,accountID:this.userid}).then(t=>{alert(t.data.msg)}).catch(t=>{alert("服务器错误roomlist"),console.log(t)}),this.getparticipants()},quit(){this.$axios.post("/roomMember/quit",{roomId:this.roomid,accountID:this.userid}).then(t=>{alert(t.data.msg)}).catch(t=>{alert("服务器错误roomlist"),console.log(t)}),this.getparticipants()},startgame(){localStorage.setItem("problemid",this.problem_ID),this.$router.push("/question")},getparticipants(){this.$axios.post("/roomMember/room/message",{roomId:this.roomid}).then(t=>{if(0===t.data.code){this.participants=t.data.data.memberCount,this.participant_list=t.data.data.accountsName;for(let t in this.participant_list)this.participant_list[t]===localStorage.getItem("username")&&(this.isin=1)}}).catch(t=>{alert("服务器错误roomlist"),console.log(t)})},countdown:function(){const t=Date.parse(new Date),i=Date.parse(new Date(this.timenow)),s=i-t;if(s<0)this.day=0,this.hr="00",this.min="00",this.sec="00",this.start=1;else{let t=parseInt(s/1e3/60/60/24),i=parseInt(s/1e3/60/60),e=parseInt(s/1e3/60%60),a=parseInt(s/1e3%60);this.day=t,this.hr=i>9?i:"0"+i,this.min=e>9?e:"0"+e,this.sec=a>9?a:"0"+a}const e=this;setTimeout((function(){e.countdown()}),1e3)}}},r=o,n=(s("283f"),s("2877")),l=Object(n["a"])(r,e,a,!1,null,null,null);i["default"]=l.exports}}]);
//# sourceMappingURL=chunk-4b3b2715.13da4cf0.js.map